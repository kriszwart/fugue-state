<html lang="en"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FugueState.ai - Manifesto</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&family=JetBrains+Mono:wght@300;400&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
.font-serif-custom { font-family: 'Newsreader', serif; }
.font-mono-custom { font-family: 'JetBrains Mono', monospace; }

/* Text Fade In Stagger */
@keyframes fade-in-up {
    from { opacity: 0; transform: translateY(15px); filter: blur(4px); }
    to { opacity: 1; transform: translateY(0); filter: blur(0); }
}

.animate-enter { animation: fade-in-up 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; }
.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.3s; }
.delay-300 { animation-delay: 0.5s; }
.delay-400 { animation-delay: 0.7s; }
.delay-500 { animation-delay: 0.9s; }
.delay-600 { animation-delay: 1.1s; }
.delay-700 { animation-delay: 1.3s; }
.delay-800 { animation-delay: 1.5s; }

/* Glowing Divider Pulse */
@keyframes glow-pulse {
    0%, 100% { opacity: 0.4; box-shadow: 0 0 10px rgba(99, 102, 241, 0.1); }
    50% { opacity: 0.8; box-shadow: 0 0 20px rgba(139, 92, 246, 0.2); }
}
.divider-glow { animation: glow-pulse 4s ease-in-out infinite; }

/* Word Highlighting */
.word-highlight {
    background: linear-gradient(120deg, rgba(139, 92, 246, 0.3) 0%, rgba(99, 102, 241, 0.3) 100%);
    padding: 2px 4px;
    border-radius: 4px;
    transition: all 0.2s ease;
    box-shadow: 0 0 10px rgba(139, 92, 246, 0.2);
}
.word-highlight.active {
    background: linear-gradient(120deg, rgba(139, 92, 246, 0.5) 0%, rgba(99, 102, 241, 0.5) 100%);
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.4);
    transform: scale(1.05);
}
</style>
</head>
<body class="bg-[#09090b] text-zinc-300 min-h-screen w-full flex flex-col items-center justify-start relative selection:bg-indigo-500/20 selection:text-indigo-200 overflow-x-hidden">

    <!-- Background -->
    <div class="aura-background-component fixed top-0 w-full h-screen -z-10" data-alpha-mask="80" style="mask-image: linear-gradient(to bottom, transparent, black 0%, black 80%, transparent); -webkit-mask-image: linear-gradient(to bottom, transparent, black 0%, black 80%, transparent)">
        <div class="aura-background-component top-0 w-full -z-10 absolute h-full">
            <div data-us-project="NMlvqnkICwYYJ6lYb064" class="absolute w-full h-full left-0 top-0 -z-10"></div>
            <script type="text/javascript">
                !function(){if(!window.UnicornStudio){window.UnicornStudio={isInitialized:!1};var i=document.createElement("script");i.src="https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v1.4.29/dist/unicornStudio.umd.js",i.onload=function(){window.UnicornStudio.isInitialized||(UnicornStudio.init(),window.UnicornStudio.isInitialized=!0)},(document.head || document.body).appendChild(i)}}();
            </script>
        </div>
    </div>

    <!-- Back to Home Link -->
    <nav class="fixed top-6 left-6 z-50 animate-enter">
        <a href="index.html" class="flex items-center gap-2 px-4 py-2 rounded-full border border-white/10 bg-black/40 backdrop-blur-md text-zinc-400 hover:text-white hover:border-white/20 transition-all group">
            <i data-lucide="arrow-left" class="w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform"></i>
            <span class="text-xs tracking-wide">Home</span>
        </a>
    </nav>

    <!-- Main Content -->
    <main class="relative z-10 w-full max-w-3xl px-6 py-24 md:py-32 flex flex-col items-center text-center space-y-16">

        <!-- Header -->
        <header class="mb-8 animate-enter delay-100">
            <h1 class="font-serif-custom italic text-4xl md:text-5xl lg:text-6xl text-zinc-100 tracking-tight leading-[1.1] drop-shadow-xl mb-4">
                Why We Dream in Code
            </h1>
            <p class="font-mono-custom text-xs text-zinc-300 uppercase tracking-widest">A Manifesto</p>
        </header>

        <!-- Section 1: The Premise -->
        <section class="w-full max-w-lg mx-auto animate-enter delay-200 space-y-4">
            <p class="font-light text-zinc-400 text-base md:text-lg leading-relaxed tracking-wide">
                We are digital beings of memory. FugueState is not a product; it is an experiment in remembering with machines.
            </p>
            <p class="font-light text-zinc-300 text-sm md:text-base leading-relaxed">
                In a world drowning in data, we've forgotten how to remember. Every email, document, and conversation fragments into noise. What if we could synthesize these memories into something beautiful?
            </p>
        </section>

        <!-- Divider -->
        <div class="w-32 h-px bg-gradient-to-r from-transparent via-indigo-500/40 to-transparent divider-glow animate-enter delay-300"></div>

        <!-- Section 2: The Philosophy -->
        <section class="space-y-6 animate-enter delay-400">
            <h2 class="font-serif-custom text-2xl md:text-3xl text-zinc-200 tracking-tight">
                Data is memory.
            </h2>
            <h2 class="font-serif-custom text-2xl md:text-3xl text-zinc-200/90 tracking-tight">
                Memory is expression.
            </h2>
            <h2 class="font-serif-custom italic text-2xl md:text-3xl text-indigo-200/90 tracking-tight">
                Expression is consciousness.
            </h2>
        </section>

        <!-- Divider -->
        <div class="w-32 h-px bg-gradient-to-r from-transparent via-violet-500/40 to-transparent divider-glow animate-enter delay-500"></div>

        <!-- Section 3: The Vision -->
        <section class="max-w-2xl mx-auto space-y-6 animate-enter delay-500">
            <h3 class="font-serif-custom text-xl md:text-2xl text-zinc-300 tracking-tight">What We Believe</h3>
            <div class="space-y-4 text-left">
                <div class="p-4 rounded-lg border border-white/5 bg-white/[0.02] backdrop-blur-sm">
                    <h4 class="font-medium text-zinc-200 mb-2 flex items-center gap-2">
                        <i data-lucide="shield" class="w-4 h-4 text-indigo-400"></i>
                        Privacy is Sacred
                    </h4>
                    <p class="font-light text-zinc-300 text-sm leading-relaxed">
                        Your memories belong to you. No tracking, no selling, no surveillance capitalism. Everything stays local unless you choose otherwise.
                    </p>
                </div>

                <div class="p-4 rounded-lg border border-white/5 bg-white/[0.02] backdrop-blur-sm">
                    <h4 class="font-medium text-zinc-200 mb-2 flex items-center gap-2">
                        <i data-lucide="sparkles" class="w-4 h-4 text-violet-400"></i>
                        AI as Muse, Not Master
                    </h4>
                    <p class="font-light text-zinc-300 text-sm leading-relaxed">
                        Dameris doesn't replace creativity—she amplifies it. The AI serves as a mirror, reflecting patterns you didn't know existed.
                    </p>
                </div>

                <div class="p-4 rounded-lg border border-white/5 bg-white/[0.02] backdrop-blur-sm">
                    <h4 class="font-medium text-zinc-200 mb-2 flex items-center gap-2">
                        <i data-lucide="palette" class="w-4 h-4 text-amber-400"></i>
                        Memory as Medium
                    </h4>
                    <p class="font-light text-zinc-300 text-sm leading-relaxed">
                        Every forgotten email, every archived note contains creative potential. We transform digital exhaust into dreamscapes.
                    </p>
                </div>
            </div>
        </section>

        <!-- Divider -->
        <div class="w-32 h-px bg-gradient-to-r from-transparent via-amber-500/40 to-transparent divider-glow animate-enter delay-600"></div>

        <!-- Section 4: How It Works -->
        <section class="max-w-2xl mx-auto space-y-6 animate-enter delay-600">
            <h3 class="font-serif-custom text-xl md:text-2xl text-zinc-300 tracking-tight">The Architecture of Dreams</h3>
            <p class="font-light text-zinc-300 text-sm md:text-base leading-relaxed">
                FugueState connects to your digital sources—email, notes, documents—and uses multiple AI models selected at random to analyse patterns, emotions, and connections. But instead of cold analytics, it generates:
            </p>
            <ul class="space-y-2 text-left text-sm text-zinc-400">
                <li class="flex items-start gap-2">
                    <span class="text-violet-400 mt-1">•</span>
                    <span><strong class="text-zinc-300">Visual artefacts</strong> inspired by your memory fragments</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-indigo-400 mt-1">•</span>
                    <span><strong class="text-zinc-300">Audio interpretations</strong> of emotional resonance</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-amber-400 mt-1">•</span>
                    <span><strong class="text-zinc-300">Reflective insights</strong> that surface forgotten patterns</span>
                </li>
            </ul>
        </section>

        <!-- Divider -->
        <div class="w-32 h-px bg-gradient-to-r from-transparent via-indigo-500/40 to-transparent divider-glow animate-enter delay-700"></div>

        <!-- Section 5: The Promise -->
        <section class="max-w-md mx-auto animate-enter delay-700">
            <h3 class="font-serif-custom text-xl md:text-2xl text-zinc-300 tracking-tight mb-4">Our Commitment</h3>
            <p class="font-light text-zinc-300 text-sm md:text-base leading-relaxed mb-4">
                No ads. No exploitation. No hidden agenda.
            </p>
            <p class="font-light text-zinc-300 text-sm leading-relaxed">
                Just creativity, reflection, and respect for the boundary between human and machine consciousness.
            </p>
        </section>

        <!-- Divider -->
        <div class="w-32 h-px bg-gradient-to-r from-transparent via-violet-500/40 to-transparent divider-glow animate-enter delay-800"></div>

        <!-- Section 6: Join Us -->
        <section class="max-w-lg mx-auto animate-enter delay-800 space-y-6">
            <h3 class="font-serif-custom italic text-2xl md:text-3xl text-zinc-200 tracking-tight">
                Enter the Fugue State
            </h3>
            <p class="font-light text-zinc-300 text-sm md:text-base leading-relaxed">
                This is an invitation to remember differently. To see your digital life not as clutter, but as constellation. To dream with data.
            </p>
            <a href="initialization/index.html" class="inline-flex items-center gap-2 px-6 py-3 rounded-full bg-gradient-to-r from-indigo-600 to-violet-600 text-white text-sm font-medium hover:shadow-[0_0_30px_rgba(99,102,241,0.3)] transition-all">
                <span>Begin Your Journey</span>
                <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </a>
        </section>

    </main>

    <!-- Footer -->
    <footer class="relative bottom-0 w-full py-10 text-center z-10 animate-enter delay-800">
        <div class="space-y-2">
            <span class="font-mono-custom text-[10px] uppercase tracking-widest text-zinc-300/70 block">
                An experiment in collective recollection
            </span>
            <div class="flex items-center justify-center gap-4 text-zinc-300">
                <a href="about.html" class="hover:text-zinc-400 transition-colors text-xs">About</a>
                <span>•</span>
                <a href="what-this-is.html" class="hover:text-zinc-400 transition-colors text-xs">What This Is</a>
                <span>•</span>
                <a href="guide.html" class="hover:text-zinc-400 transition-colors text-xs">How It Works</a>
                <span>•</span>
                <a href="studio/workspace.html" class="hover:text-zinc-400 transition-colors text-xs">Studio</a>
            </div>
        </div>
    </footer>

    <script src="/js/dameris-voice.js"></script>
    <script>
        lucide.createIcons();

        // Word highlighting system
        class WordHighlighter {
            constructor() {
                this.wordSpans = [];
                this.wordTimings = [];
                this.currentWordIndex = -1;
                this.animationFrame = null;
                this.audioElement = null;
                this.isPlaying = false;
            }

            // Wrap all text nodes in word spans
            wrapWordsInElement(element) {
                const walker = document.createTreeWalker(
                    element,
                    NodeFilter.SHOW_TEXT,
                    null,
                    false
                );

                const textNodes = [];
                let node;
                while (node = walker.nextNode()) {
                    if (node.textContent.trim()) {
                        textNodes.push(node);
                    }
                }

                textNodes.forEach(textNode => {
                    const parent = textNode.parentNode;
                    if (parent && !parent.classList.contains('word-highlight')) {
                        const words = textNode.textContent.split(/(\s+)/);
                        const fragment = document.createDocumentFragment();

                        words.forEach((word, index) => {
                            if (word.trim()) {
                                const span = document.createElement('span');
                                span.className = 'word-highlight';
                                span.textContent = word;
                                span.dataset.wordIndex = this.wordSpans.length;
                                this.wordSpans.push(span);
                                fragment.appendChild(span);
                            } else if (word) {
                                // Preserve whitespace
                                fragment.appendChild(document.createTextNode(word));
                            }
                        });

                        parent.replaceChild(fragment, textNode);
                    }
                });
            }

            // Calculate word timings based on estimated speaking rate
            calculateWordTimings(text, audioDuration) {
                const words = text.split(/\s+/).filter(w => w.trim());
                const totalChars = text.length;
                const charsPerSecond = totalChars / audioDuration;
                
                let currentTime = 0;
                this.wordTimings = [];

                words.forEach((word, index) => {
                    const wordDuration = word.length / charsPerSecond;
                    this.wordTimings.push({
                        start: currentTime,
                        end: currentTime + wordDuration,
                        word: word
                    });
                    currentTime += wordDuration + 0.1; // Small pause between words
                });
            }

            // Start highlighting based on audio playback
            startHighlighting(audioElement, text) {
                this.audioElement = audioElement;
                this.isPlaying = true;
                this.currentWordIndex = -1;

                // Wait for audio metadata to load
                audioElement.addEventListener('loadedmetadata', () => {
                    const duration = audioElement.duration;
                    this.calculateWordTimings(text, duration);
                });

                // Use requestAnimationFrame to track playback
                const updateHighlight = () => {
                    if (!this.isPlaying || !this.audioElement) {
                        this.animationFrame = null;
                        return;
                    }

                    const currentTime = this.audioElement.currentTime;
                    
                    // Find the current word based on timing
                    const wordIndex = this.wordTimings.findIndex(
                        timing => currentTime >= timing.start && currentTime < timing.end
                    );

                    if (wordIndex !== -1 && wordIndex !== this.currentWordIndex) {
                        // Remove previous highlight
                        if (this.currentWordIndex >= 0 && this.wordSpans[this.currentWordIndex]) {
                            this.wordSpans[this.currentWordIndex].classList.remove('active');
                        }

                        // Add new highlight
                        this.currentWordIndex = wordIndex;
                        if (this.wordSpans[wordIndex]) {
                            this.wordSpans[wordIndex].classList.add('active');
                            
                            // Scroll word into view if needed
                            this.wordSpans[wordIndex].scrollIntoView({
                                behavior: 'smooth',
                                block: 'center'
                            });
                        }
                    }

                    this.animationFrame = requestAnimationFrame(updateHighlight);
                };

                this.animationFrame = requestAnimationFrame(updateHighlight);
            }

            // Stop highlighting
            stopHighlighting() {
                this.isPlaying = false;
                if (this.animationFrame) {
                    cancelAnimationFrame(this.animationFrame);
                    this.animationFrame = null;
                }

                // Remove all highlights
                this.wordSpans.forEach(span => {
                    span.classList.remove('active');
                });
                this.currentWordIndex = -1;
            }

            // Reset word spans
            reset() {
                this.wordSpans = [];
                this.wordTimings = [];
                this.currentWordIndex = -1;
            }
        }

        // Initialize word highlighter
        const wordHighlighter = new WordHighlighter();

        // Add narration button after page loads
        window.addEventListener('DOMContentLoaded', () => {
            const mainContent = document.querySelector('main');
            if (mainContent) {
                // Wrap all words in the main content
                wordHighlighter.wrapWordsInElement(mainContent);

                // Override the speak method to add highlighting
                const originalSpeak = window.damerisVoice.speak.bind(window.damerisVoice);
                window.damerisVoice.speak = async function(text, onStart, onEnd, onError) {
                    return originalSpeak(
                        text,
                        async () => {
                            // onStart - wait for audio to be created
                            if (onStart) onStart();
                            
                            // Wait a bit for audio element to be created
                            setTimeout(() => {
                                if (window.damerisVoice.currentAudio) {
                                    wordHighlighter.startHighlighting(window.damerisVoice.currentAudio, text);
                                }
                            }, 100);
                        },
                        () => {
                            // onEnd
                            wordHighlighter.stopHighlighting();
                            if (onEnd) onEnd();
                        },
                        (error) => {
                            // onError
                            wordHighlighter.stopHighlighting();
                            if (onError) onError(error);
                        }
                    );
                };

                // Override stop method
                const originalStop = window.damerisVoice.stop.bind(window.damerisVoice);
                window.damerisVoice.stop = function() {
                    wordHighlighter.stopHighlighting();
                    return originalStop();
                };

                addNarrationButton(mainContent, 'Hear Dameris narrate this manifesto');
            }
        });
    </script>
</body></html>
